{"ast":null,"code":"import _regeneratorRuntime from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Form,Button}from\"react-bootstrap\";import{Link,useHistory}from\"react-router-dom\";import{useState,useContext}from\"react\";import{AuthContext}from\"../../contexts/index\";import Alertmessage from\"../Layout/Alertmessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){//Context\nvar _useContext=useContext(AuthContext),loginUser=_useContext.loginUser;//Use history\nvar history=useHistory();var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),loginForm=_useState2[0],setloginForm=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var username=loginForm.username,password=loginForm.password;var OnchangeLogin=function OnchangeLogin(e){return setloginForm(_objectSpread(_objectSpread({},loginForm),{},_defineProperty({},e.target.name,e.target.value)));};var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var loginData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return loginUser(loginForm);case 4:loginData=_context.sent;if(loginData.success){// history.push('/dashboard')\n}else{setAlert({type:\"danger\",message:loginData.message});setTimeout(function(){return setAlert(null);},5000);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function login(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form,{className:\"my-4\",onSubmit:login,children:[/*#__PURE__*/_jsx(Alertmessage,{info:alert}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Username\",name:\"username\",required:true,value:username,onChange:OnchangeLogin})}),/*#__PURE__*/_jsx(Form.Group,{className:\"my-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",name:\"password\",required:true,value:password,onChange:OnchangeLogin})}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Dont have account ?\",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:/*#__PURE__*/_jsx(Button,{variant:\"info\",size:\"sm\",className:\"ml-2\",children:\"Register\"})})]})]});}","map":{"version":3,"sources":["/home/thanh/Desktop/Trackerlist/client/src/components/Auth/LoginForm.js"],"names":["React","Form","Button","Link","useHistory","useState","useContext","AuthContext","Alertmessage","Login","loginUser","history","username","password","loginForm","setloginForm","alert","setAlert","OnchangeLogin","e","target","name","value","login","preventDefault","loginData","success","type","message","setTimeout","console","log"],"mappings":"2lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,sBAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,C,6IAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC9B;AACA,gBAAsBH,UAAU,CAACC,WAAD,CAAhC,CAAQG,SAAR,aAAQA,SAAR,CAEA;AACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAEA,cAAkCC,QAAQ,CAAC,CACzCO,QAAQ,CAAE,EAD+B,CAEzCC,QAAQ,CAAE,EAF+B,CAAD,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eAKA,eAA0BV,QAAQ,CAAC,IAAD,CAAlC,yCAAOW,KAAP,eAAcC,QAAd,eACA,GAAQL,CAAAA,QAAR,CAA+BE,SAA/B,CAAQF,QAAR,CAAkBC,QAAlB,CAA+BC,SAA/B,CAAkBD,QAAlB,CAEA,GAAMK,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,QACpBJ,CAAAA,YAAY,gCACPD,SADO,wBAETK,CAAC,CAACC,MAAF,CAASC,IAFA,CAEOF,CAAC,CAACC,MAAF,CAASE,KAFhB,GADQ,EAAtB,CAMA,GAAMC,CAAAA,KAAK,0FAAG,iBAAOJ,CAAP,gIACZA,CAAC,CAACK,cAAF,GADY,sCAGcd,CAAAA,SAAS,CAACI,SAAD,CAHvB,QAGJW,SAHI,eAIV,GAAIA,SAAS,CAACC,OAAd,CAAuB,CACrB;AACD,CAFD,IAEO,CACLT,QAAQ,CAAC,CAAEU,IAAI,CAAE,QAAR,CAAkBC,OAAO,CAAEH,SAAS,CAACG,OAArC,CAAD,CAAR,CACAC,UAAU,CAAC,iBAAIZ,CAAAA,QAAQ,CAAC,IAAD,CAAZ,EAAD,CAAoB,IAApB,CAAV,CACD,CATS,+EAWVa,OAAO,CAACC,GAAR,cAXU,oEAAH,kBAALR,CAAAA,KAAK,4CAAX,CAeA,mBACE,wCACE,MAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEA,KAAjC,wBACE,KAAC,YAAD,EAAc,IAAI,CAAEP,KAApB,EADF,cAEE,KAAC,IAAD,CAAM,KAAN,wBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,KAJV,CAKE,KAAK,CAAEJ,QALT,CAME,QAAQ,CAAEM,aANZ,EADF,EAFF,cAaE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,uBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,KAJV,CAKE,KAAK,CAAEL,QALT,CAME,QAAQ,CAAEK,aANZ,EADF,EAbF,cAuBE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,mBAvBF,GADF,cA4BE,wDAEE,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,IAAI,CAAC,IAA5B,CAAiC,SAAS,CAAC,MAA3C,sBADF,EAFF,GA5BF,GADF,CAuCD","sourcesContent":["import React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useState, useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/index\";\nimport Alertmessage from \"../Layout/Alertmessage\";\n\nexport default function Login() {\n  //Context\n  const { loginUser } = useContext(AuthContext);\n\n  //Use history\n  const history = useHistory();\n\n  const [loginForm, setloginForm] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  const [alert, setAlert] = useState(null);\n  const { username, password } = loginForm;\n\n  const OnchangeLogin = (e) =>\n    setloginForm({\n      ...loginForm,\n      [e.target.name]: e.target.value,\n    });\n\n  const login = async (e) => {\n    e.preventDefault();\n    try {\n      const loginData = await loginUser(loginForm);\n      if (loginData.success) {\n        // history.push('/dashboard')\n      } else {\n        setAlert({ type: \"danger\", message: loginData.message })\n        setTimeout(()=>setAlert(null),5000)\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <Form className=\"my-4\" onSubmit={login}>\n        <Alertmessage info={alert} />\n        <Form.Group>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Username\"\n            name=\"username\"\n            required\n            value={username}\n            onChange={OnchangeLogin}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"my-3\">\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            required\n            value={password}\n            onChange={OnchangeLogin}\n          />\n        </Form.Group>\n        <Button variant=\"success\" type=\"submit\">\n          Login\n        </Button>\n      </Form>\n      <p>\n        Dont have account ?\n        <Link to=\"/register\">\n          <Button variant=\"info\" size=\"sm\" className=\"ml-2\">\n            Register\n          </Button>\n        </Link>\n      </p>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}