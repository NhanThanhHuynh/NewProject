{"ast":null,"code":"import _toConsumableArray from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{POSTS_LOADED_FAIL,POSTS_LOADED_SUCCESS,ADD_POST,DELETE_POST,UPDATE_POST,FIND_POST}from\"../contexts/constants\";export var PostsReducer=function PostsReducer(state,action){var type=action.type,payload=action.payload;switch(type){case POSTS_LOADED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{posts:payload,postsLoading:false});case POSTS_LOADED_FAIL:return _objectSpread(_objectSpread({},state),{},{posts:[],postsLoading:false});case ADD_POST:return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[payload])});case DELETE_POST:console.log(state);return _objectSpread(_objectSpread({},state),{},{posts:state.posts.filter(function(x){return x._id!==payload;})});case UPDATE_POST:var newPost=state.posts.map(function(post){if(post._id===payload._id){return payload;}else return post;});return _objectSpread(_objectSpread({},state),{},{posts:newPost});case FIND_POST:return _objectSpread(_objectSpread({},state),{},{post:payload});default:return state;}};","map":{"version":3,"sources":["/home/thanh/Desktop/Trackerlist/client/src/reducers/PostsReducer.js"],"names":["POSTS_LOADED_FAIL","POSTS_LOADED_SUCCESS","ADD_POST","DELETE_POST","UPDATE_POST","FIND_POST","PostsReducer","state","action","type","payload","posts","postsLoading","console","log","filter","x","_id","newPost","map","post"],"mappings":"yPAAA,OAASA,iBAAT,CAA4BC,oBAA5B,CAAiDC,QAAjD,CAA2DC,WAA3D,CAAuEC,WAAvE,CAAmFC,SAAnF,KAAmG,uBAAnG,CAEA,MAAO,IAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC7C,GAAQC,CAAAA,IAAR,CAA0BD,MAA1B,CAAQC,IAAR,CAAcC,OAAd,CAA0BF,MAA1B,CAAcE,OAAd,CACA,OAAQD,IAAR,EACE,IAAKR,CAAAA,oBAAL,CACE,sCACKM,KADL,MAEEI,KAAK,CAAED,OAFT,CAGEE,YAAY,CAAE,KAHhB,GAKF,IAAKZ,CAAAA,iBAAL,CACE,sCACKO,KADL,MAEEI,KAAK,CAAE,EAFT,CAGEC,YAAY,CAAE,KAHhB,GAKA,IAAKV,CAAAA,QAAL,CACE,sCACKK,KADL,MAEEI,KAAK,8BAAKJ,KAAK,CAACI,KAAX,GAAiBD,OAAjB,EAFP,GAIA,IAAKP,CAAAA,WAAL,CACEU,OAAO,CAACC,GAAR,CAAYP,KAAZ,EACF,sCACKA,KADL,MAEEI,KAAK,CAACJ,KAAK,CAACI,KAAN,CAAYI,MAAZ,CAAmB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACC,GAAF,GAAUP,OAAZ,EAApB,CAFR,GAKA,IAAKN,CAAAA,WAAL,CACE,GAAMc,CAAAA,OAAO,CAAGX,KAAK,CAACI,KAAN,CAAYQ,GAAZ,CAAgB,SAAAC,IAAI,CAAE,CACpC,GAAGA,IAAI,CAACH,GAAL,GAAWP,OAAO,CAACO,GAAtB,CAA0B,CACxB,MAAOP,CAAAA,OAAP,CACD,CAFD,IAEM,OAAOU,CAAAA,IAAP,CACP,CAJe,CAAhB,CAKA,sCACKb,KADL,MAEEI,KAAK,CAACO,OAFR,GAKF,IAAKb,CAAAA,SAAL,CACE,sCACKE,KADL,MAEEa,IAAI,CAAGV,OAFT,GAKN,QACE,MAAOH,CAAAA,KAAP,CA3CJ,CA6CD,CA/CM","sourcesContent":["import { POSTS_LOADED_FAIL, POSTS_LOADED_SUCCESS,ADD_POST, DELETE_POST,UPDATE_POST,FIND_POST} from \"../contexts/constants\";\n\nexport const PostsReducer = (state, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case POSTS_LOADED_SUCCESS:\n      return {\n        ...state,\n        posts: payload,\n        postsLoading: false,\n      };\n    case POSTS_LOADED_FAIL:\n      return {\n        ...state,\n        posts: [],\n        postsLoading: false,\n      };\n      case ADD_POST:\n        return {\n          ...state,\n          posts:[...state.posts,payload]\n        }\n        case DELETE_POST:\n          console.log(state)\n        return {\n          ...state,\n          posts:state.posts.filter(x=>x._id !== payload)\n        }\n        ;\n        case UPDATE_POST:\n          const newPost = state.posts.map(post=>{\n            if(post._id===payload._id){\n              return payload\n            }else return post\n          })\n          return {\n            ...state,\n            posts:newPost\n          }\n        ;\n        case FIND_POST:\n          return {\n            ...state,\n            post : payload\n          }\n          ;\n    default:\n      return state;\n  }\n};\n\n\n"]},"metadata":{},"sourceType":"module"}