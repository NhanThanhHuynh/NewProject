{"ast":null,"code":"import _defineProperty from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{Modal,Button,Form}from\"react-bootstrap\";import{useContext,useState}from\"react\";import{PostContext}from\"../../contexts/Postcontext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddpostModal=function AddpostModal(){//Context\nvar _useContext=useContext(PostContext),SetshowAddPostModal=_useContext.SetshowAddPostModal,showAddPostModal=_useContext.showAddPostModal,addPost=_useContext.addPost,SetshowToast=_useContext.SetshowToast;var closeDialog=function closeDialog(){setnewPost({title:\"\",description:\"\",url:\"\",status:\"TO LEARN\"});SetshowAddPostModal(false);};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _yield$addPost,success,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return addPost(newPost);case 3:_yield$addPost=_context.sent;success=_yield$addPost.success;message=_yield$addPost.message;resetAddPostdata();SetshowToast({show:true,message:message,type:true?\"success\":\"danger\"});case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var resetAddPostdata=function resetAddPostdata(){setnewPost({title:\"\",description:\"\",url:\"\",status:\"TO LEARN\"});SetshowAddPostModal(false);};//State\nvar _useState=useState({title:\"\",description:\"\",url:\"\",status:\"TO LEARN\"}),_useState2=_slicedToArray(_useState,2),newPost=_useState2[0],setnewPost=_useState2[1];var title=newPost.title,description=newPost.description,url=newPost.url;var onChangeNewPostForm=function onChangeNewPostForm(e){return setnewPost(_objectSpread(_objectSpread({},newPost),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(Modal,{show:showAddPostModal,animation:false,onHide:closeDialog,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"What do you want to learn ?\"})}),/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Title\",name:\"title\",required:true,\"aria-describedby\":\"title-help\",value:title,onChange:onChangeNewPostForm}),/*#__PURE__*/_jsx(Form.Text,{id:\"title-help\",muted:true,children:\"Required\"})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",placeholder:\"Description\",row:3,name:\"description\",value:description,onChange:onChangeNewPostForm})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Youtube Tutorial URL\",name:\"url\",value:url,onChange:onChangeNewPostForm})})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:closeDialog,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Learnit\"})]})]})]});};export default AddpostModal;","map":{"version":3,"sources":["/home/thanh/Desktop/Trackerlist/client/src/components/posts/AddpostModal.js"],"names":["React","Modal","Button","Form","useContext","useState","PostContext","AddpostModal","SetshowAddPostModal","showAddPostModal","addPost","SetshowToast","closeDialog","setnewPost","title","description","url","status","onSubmit","event","preventDefault","newPost","success","message","resetAddPostdata","show","type","onChangeNewPostForm","e","target","name","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { useContext, useState } from \"react\";\nimport { PostContext } from \"../../contexts/Postcontext\";\n\nconst AddpostModal = () => {\n  //Context\n  const { SetshowAddPostModal, showAddPostModal, addPost, SetshowToast } =\n    useContext(PostContext);\n  const closeDialog = () => {\n    setnewPost({\n      title: \"\",\n      description: \"\",\n      url: \"\",\n      status: \"TO LEARN\",\n    });\n    SetshowAddPostModal(false);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    const { success, message } = await addPost(newPost);\n    resetAddPostdata();\n    SetshowToast({ show: true, message, type: true ? \"success\" : \"danger\" });\n  };\n\n  const resetAddPostdata = () => {\n    setnewPost({\n      title: \"\",\n      description: \"\",\n      url: \"\",\n      status: \"TO LEARN\",\n    });\n    SetshowAddPostModal(false);\n  };\n  //State\n  const [newPost, setnewPost] = useState({\n    title: \"\",\n    description: \"\",\n    url: \"\",\n    status: \"TO LEARN\",\n  });\n  const { title, description, url } = newPost;\n\n  const onChangeNewPostForm = (e) =>\n    setnewPost({\n      ...newPost,\n      [e.target.name]: e.target.value,\n    });\n\n  return (\n    <Modal show={showAddPostModal} animation={false} onHide={closeDialog}>\n      <Modal.Header closeButton>\n        <Modal.Title>What do you want to learn ?</Modal.Title>\n      </Modal.Header>\n      <Form onSubmit={onSubmit}>\n        <Modal.Body>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Title\"\n              name=\"title\"\n              required\n              aria-describedby=\"title-help\"\n              value={title}\n              onChange={onChangeNewPostForm}\n            />\n            <Form.Text id=\"title-help\" muted>\n              Required\n            </Form.Text>\n          </Form.Group>\n          <Form.Group>\n            <Form.Control\n              as=\"textarea\"\n              placeholder=\"Description\"\n              row={3}\n              name=\"description\"\n              value={description}\n              onChange={onChangeNewPostForm}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Youtube Tutorial URL\"\n              name=\"url\"\n              value={url}\n              onChange={onChangeNewPostForm}\n            />\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={closeDialog}>\n            Cancel\n          </Button>\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n          >\n            Learnit\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default AddpostModal;\n"]},"metadata":{},"sourceType":"module"}