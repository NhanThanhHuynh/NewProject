{"ast":null,"code":"import _regeneratorRuntime from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Form,Button}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useContext,useState}from'react';import{AuthContext}from\"../../contexts/index\";import Alertmessage from\"../Layout/Alertmessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Register(){//Context\nvar _useContext=useContext(AuthContext),registerUser=_useContext.registerUser;var _useState=useState({username:\"\",password:\"\",confirmPassword:''}),_useState2=_slicedToArray(_useState,2),registerForm=_useState2[0],setRegisterForm=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var username=registerForm.username,password=registerForm.password,confirmPassword=registerForm.confirmPassword;var OnchangeRegisterForm=function OnchangeRegisterForm(e){return setRegisterForm(_objectSpread(_objectSpread({},registerForm),{},_defineProperty({},e.target.name,e.target.value)));};var register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var registerData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(password!==confirmPassword)){_context.next=5;break;}setAlert({type:'danger',message:'Password do not match'});setTimeout(function(){return setAlert(null);},5000);return _context.abrupt(\"return\");case 5:_context.prev=5;_context.next=8;return registerUser(registerForm);case 8:registerData=_context.sent;if(!registerData.success){setAlert({type:\"danger\",message:registerData.message});setTimeout(function(){return setAlert(null);},5000);}_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);console.log(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[5,12]]);}));return function register(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Form,{className:\"my-4\",onSubmit:register,children:[/*#__PURE__*/_jsx(Alertmessage,{info:alert}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Username\",name:\"username\",required:true,value:username,onChange:OnchangeRegisterForm})}),/*#__PURE__*/_jsx(Form.Group,{className:\"my-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",name:\"password\",required:true,value:password,onChange:OnchangeRegisterForm})}),/*#__PURE__*/_jsx(Form.Group,{className:\"my-3\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Confirm password\",name:\"confirmPassword\",required:true,value:confirmPassword,onChange:OnchangeRegisterForm})}),/*#__PURE__*/_jsx(Button,{variant:\"success\",type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have account ?\",/*#__PURE__*/_jsx(Link,{to:\"/Login\",children:/*#__PURE__*/_jsx(Button,{variant:\"info\",size:\"sm\",className:\"ml-2\",children:\"Login\"})})]})]});}","map":{"version":3,"sources":["/home/thanh/Desktop/Trackerlist/client/src/components/Auth/RegisterForm.js"],"names":["React","Form","Button","Link","useContext","useState","AuthContext","Alertmessage","Register","registerUser","username","password","confirmPassword","registerForm","setRegisterForm","alert","setAlert","OnchangeRegisterForm","e","target","name","value","register","preventDefault","type","message","setTimeout","registerData","success","console","log"],"mappings":"2lBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAAQC,UAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,OAASC,WAAT,KAA4B,sBAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CACjC;AACA,gBAAyBJ,UAAU,CAACE,WAAD,CAAnC,CAAQG,YAAR,aAAQA,YAAR,CACA,cAAwCJ,QAAQ,CAAC,CAC/CK,QAAQ,CAAE,EADqC,CAE/CC,QAAQ,CAAE,EAFqC,CAG/CC,eAAe,CAAG,EAH6B,CAAD,CAAhD,wCAAOC,YAAP,eAAqBC,eAArB,eAMA,eAA0BT,QAAQ,CAAC,IAAD,CAAlC,yCAAOU,KAAP,eAAcC,QAAd,eACA,GAAQN,CAAAA,QAAR,CAA+CG,YAA/C,CAAQH,QAAR,CAAkBC,QAAlB,CAA+CE,YAA/C,CAAkBF,QAAlB,CAA2BC,eAA3B,CAA+CC,YAA/C,CAA2BD,eAA3B,CAEA,GAAMK,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAACC,CAAD,QAC3BJ,CAAAA,eAAe,gCACVD,YADU,wBAEZK,CAAC,CAACC,MAAF,CAASC,IAFG,CAEIF,CAAC,CAACC,MAAF,CAASE,KAFb,GADY,EAA7B,CAMA,GAAMC,CAAAA,QAAQ,0FAAG,iBAAOJ,CAAP,mIACfA,CAAC,CAACK,cAAF,GADe,KAEZZ,QAAQ,GAAIC,eAFA,0BAGbI,QAAQ,CAAC,CAACQ,IAAI,CAAC,QAAN,CAAeC,OAAO,CAAC,uBAAvB,CAAD,CAAR,CACAC,UAAU,CAAC,iBAAIV,CAAAA,QAAQ,CAAC,IAAD,CAAZ,EAAD,CAAoB,IAApB,CAAV,CAJa,8EAScP,CAAAA,YAAY,CAACI,YAAD,CAT1B,QASPc,YATO,eAUb,GAAI,CAACA,YAAY,CAACC,OAAlB,CAA0B,CACxBZ,QAAQ,CAAC,CAAEQ,IAAI,CAAE,QAAR,CAAkBC,OAAO,CAAEE,YAAY,CAACF,OAAxC,CAAD,CAAR,CACAC,UAAU,CAAC,iBAAIV,CAAAA,QAAQ,CAAC,IAAD,CAAZ,EAAD,CAAoB,IAApB,CAAV,CACD,CAbY,iFAeba,OAAO,CAACC,GAAR,cAfa,qEAAH,kBAARR,CAAAA,QAAQ,4CAAd,CAmBA,mBACE,wCACE,MAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAGA,QAAlC,wBACE,KAAC,YAAD,EAAc,IAAI,CAAIP,KAAtB,EADF,cAEE,KAAC,IAAD,CAAM,KAAN,wBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,MADP,CAEE,WAAW,CAAC,UAFd,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,KAJV,CAKE,KAAK,CAAIL,QALX,CAME,QAAQ,CAAGO,oBANb,EADF,EAFF,cAaE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,uBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,IAAI,CAAC,UAHP,CAIE,QAAQ,KAJV,CAKE,KAAK,CAAIN,QALX,CAME,QAAQ,CAAGM,oBANb,EADF,EAbF,cAuBE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,uBACE,KAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,kBAFd,CAGE,IAAI,CAAC,iBAHP,CAIE,QAAQ,KAJV,CAKE,KAAK,CAAIL,eALX,CAME,QAAQ,CAAGK,oBANb,EADF,EAvBF,cAiCE,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,sBAjCF,GADF,cAsCE,2DAEE,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,uBACE,KAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,IAAI,CAAC,IAA5B,CAAiC,SAAS,CAAC,MAA3C,mBADF,EAFF,GAtCF,GADF,CAiDD","sourcesContent":["import React from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport {useContext,useState} from 'react'\nimport { AuthContext } from \"../../contexts/index\";\nimport Alertmessage from \"../Layout/Alertmessage\";\n\nexport default function Register() {\n  //Context\n  const { registerUser } = useContext(AuthContext);\n  const [registerForm, setRegisterForm] = useState({\n    username: \"\",\n    password: \"\",\n    confirmPassword : ''\n  });\n\n  const [alert, setAlert] = useState(null);\n  const { username, password,confirmPassword } = registerForm;\n\n  const OnchangeRegisterForm = (e) =>\n    setRegisterForm({\n      ...registerForm,\n      [e.target.name]: e.target.value,\n    });\n\n  const register = async (e) => {\n    e.preventDefault();\n    if(password !==confirmPassword){\n      setAlert({type:'danger',message:'Password do not match'})\n      setTimeout(()=>setAlert(null),5000)\n      return\n    }\n    \n    try {\n      const registerData = await registerUser(registerForm);\n      if (!registerData.success){\n        setAlert({ type: \"danger\", message: registerData.message })\n        setTimeout(()=>setAlert(null),5000)\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <Form className=\"my-4\" onSubmit= {register} >\n        <Alertmessage info = {alert} />\n        <Form.Group>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Username\"\n            name=\"username\"\n            required\n            value = {username}\n            onChange= {OnchangeRegisterForm}\n          />\n        </Form.Group>\n\n        <Form.Group className=\"my-3\">\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            name=\"password\"\n            required\n            value = {password}\n            onChange= {OnchangeRegisterForm}\n          />\n        </Form.Group>\n        <Form.Group className=\"my-3\">\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Confirm password\"\n            name=\"confirmPassword\"\n            required\n            value = {confirmPassword}\n            onChange= {OnchangeRegisterForm}\n          />\n        </Form.Group>\n        <Button variant=\"success\" type=\"submit\">\n          Register\n        </Button>\n      </Form>\n      <p>\n        Already have account ?\n        <Link to=\"/Login\">\n          <Button variant=\"info\" size=\"sm\" className=\"ml-2\">\n            Login\n          </Button>\n        </Link>\n      </p>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}