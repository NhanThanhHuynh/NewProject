{"ast":null,"code":"import _defineProperty from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/thanh/Desktop/Trackerlist/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect}from\"react\";import{Modal,Button,Form}from\"react-bootstrap\";import{useContext,useState}from\"react\";import{PostContext}from\"../../contexts/Postcontext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdatepostModal=function UpdatepostModal(){//Context\nvar _useContext=useContext(PostContext),SetshowUpdatePostModal=_useContext.SetshowUpdatePostModal,showUpdatePostModal=_useContext.showUpdatePostModal,updatePost=_useContext.updatePost,SetshowToast=_useContext.SetshowToast,post=_useContext.postState.post;//Render post\nuseEffect(function(){setnewPost(post);},[post]);//Close\nvar closeDialog=function closeDialog(){setnewPost(post);SetshowUpdatePostModal(false);};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _yield$updatePost,success,message;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return updatePost(newPost);case 3:_yield$updatePost=_context.sent;success=_yield$updatePost.success;message=_yield$updatePost.message;closeDialog();SetshowToast({show:true,message:message,type:true?\"success\":\"danger\"});case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();//State\nvar _useState=useState(post),_useState2=_slicedToArray(_useState,2),newPost=_useState2[0],setnewPost=_useState2[1];var title=newPost.title,description=newPost.description,url=newPost.url,status=newPost.status;var onChangeNewPostForm=function onChangeNewPostForm(e){return setnewPost(_objectSpread(_objectSpread({},newPost),{},_defineProperty({},e.target.name,e.target.value)));};return/*#__PURE__*/_jsxs(Modal,{show:showUpdatePostModal,onHide:closeDialog,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Making Progress ?\"})}),/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Title\",name:\"title\",required:true,\"aria-describedby\":\"title-help\",value:title,onChange:onChangeNewPostForm}),/*#__PURE__*/_jsx(Form.Text,{id:\"title-help\",muted:true,children:\"Required\"})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",placeholder:\"Description\",row:3,name:\"description\",value:description,onChange:onChangeNewPostForm})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Youtube Tutorial URL\",name:\"url\",value:url,onChange:onChangeNewPostForm})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",name:\"status\",value:status,onChange:onChangeNewPostForm,children:[/*#__PURE__*/_jsx(\"option\",{value:\"TO LEARN\",children:\" TO LEARN\"}),/*#__PURE__*/_jsx(\"option\",{value:\"LEARNING\",children:\" LEARNING\"}),/*#__PURE__*/_jsx(\"option\",{value:\"LEARNED\",children:\" LEARNED\"})]})})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:closeDialog,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Learnit\"})]})]})]});};export default UpdatepostModal;","map":{"version":3,"sources":["/home/thanh/Desktop/Trackerlist/client/src/components/posts/UpdatepostModal.js"],"names":["React","useEffect","Modal","Button","Form","useContext","useState","PostContext","UpdatepostModal","SetshowUpdatePostModal","showUpdatePostModal","updatePost","SetshowToast","post","postState","setnewPost","closeDialog","onSubmit","event","preventDefault","newPost","success","message","show","type","title","description","url","status","onChangeNewPostForm","e","target","name","value"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { useContext, useState } from \"react\";\nimport { PostContext } from \"../../contexts/Postcontext\";\n\nconst UpdatepostModal = () => {\n  //Context\n  const {\n    SetshowUpdatePostModal,\n    showUpdatePostModal,\n    updatePost,\n    SetshowToast,\n    postState: { post },\n  } = useContext(PostContext);\n\n  //Render post\n  useEffect(() => {\n    setnewPost(post);\n  }, [post]);\n\n  //Close\n  const closeDialog = () => {\n    setnewPost(post);\n    SetshowUpdatePostModal(false);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    const { success, message } = await updatePost(newPost);\n    closeDialog();\n    SetshowToast({ show: true, message, type: true ? \"success\" : \"danger\" });\n  };\n\n  //State\n  const [newPost, setnewPost] = useState(post);\n  const { title, description, url, status } = newPost;\n\n  const onChangeNewPostForm = (e) =>\n    setnewPost({\n      ...newPost,\n      [e.target.name]: e.target.value,\n    });\n\n  return (\n    <Modal show={showUpdatePostModal} onHide={closeDialog}>\n      <Modal.Header closeButton>\n        <Modal.Title>Making Progress ?</Modal.Title>\n      </Modal.Header>\n      <Form onSubmit={onSubmit}>\n        <Modal.Body>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Title\"\n              name=\"title\"\n              required\n              aria-describedby=\"title-help\"\n              value={title}\n              onChange={onChangeNewPostForm}\n            />\n            <Form.Text id=\"title-help\" muted>\n              Required\n            </Form.Text>\n          </Form.Group>\n          <Form.Group>\n            <Form.Control\n              as=\"textarea\"\n              placeholder=\"Description\"\n              row={3}\n              name=\"description\"\n              value={description}\n              onChange={onChangeNewPostForm}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Youtube Tutorial URL\"\n              name=\"url\"\n              value={url}\n              onChange={onChangeNewPostForm}\n            />\n          </Form.Group>\n          <Form.Group>\n            <Form.Control\n              as=\"select\"\n              name=\"status\"\n              value={status}\n              onChange={onChangeNewPostForm}\n            >\n              <option value=\"TO LEARN\"> TO LEARN</option>\n              <option value=\"LEARNING\"> LEARNING</option>\n              <option value=\"LEARNED\"> LEARNED</option>\n            </Form.Control>\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={closeDialog}>\n            Cancel\n          </Button>\n          <Button variant=\"primary\" type=\"submit\">\n            Learnit\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default UpdatepostModal;\n"]},"metadata":{},"sourceType":"module"}